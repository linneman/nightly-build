<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>server.tasks documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Bond</span> <span class="project-version">1.0.7</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="01_README.html"><div class="inner"><span>The Bond Nightly Release System</span></div></a></li><li class="depth-1 "><a href="02_supplementary_documents.html"><div class="inner"><span>Supplementary Documents</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>crossover</span></div></div></li><li class="depth-2"><a href="crossover.macros.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>macros</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>server</span></div></div></li><li class="depth-2 branch"><a href="server.auth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auth</span></div></a></li><li class="depth-2 branch"><a href="server.build-log-handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>build-log-handler</span></div></a></li><li class="depth-2 branch"><a href="server.build-task.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>build-task</span></div></a></li><li class="depth-2 branch"><a href="server.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="server.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="server.cron.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cron</span></div></a></li><li class="depth-2 branch"><a href="server.crypto.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>crypto</span></div></a></li><li class="depth-2 branch"><a href="server.email.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>email</span></div></a></li><li class="depth-2 branch"><a href="server.local-settings.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>local-settings</span></div></a></li><li class="depth-2 branch"><a href="server.session.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>session</span></div></a></li><li class="depth-2 branch"><a href="server.shell-utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shell-utils</span></div></a></li><li class="depth-2 branch current"><a href="server.tasks.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tasks</span></div></a></li><li class="depth-2"><a href="server.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="server.tasks.html#var-enable-failure-test"><div class="inner"><span>enable-failure-test</span></div></a></li><li class="depth-1"><a href="server.tasks.html#var-exec-tasks"><div class="inner"><span>exec-tasks</span></div></a></li><li class="depth-1"><a href="server.tasks.html#var-exec-termination"><div class="inner"><span>exec-termination</span></div></a></li><li class="depth-1"><a href="server.tasks.html#var-gen-task-sequence"><div class="inner"><span>gen-task-sequence</span></div></a></li><li class="depth-1"><a href="server.tasks.html#var-gen-test-task-list"><div class="inner"><span>gen-test-task-list</span></div></a></li><li class="depth-1"><a href="server.tasks.html#var-start-tasks"><div class="inner"><span>start-tasks</span></div></a></li><li class="depth-1"><a href="server.tasks.html#var-stop-tasks"><div class="inner"><span>stop-tasks</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">server.tasks</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-enable-failure-test"><h3>enable-failure-test</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-exec-tasks"><h3>exec-tasks</h3><div class="usage"><code>(exec-tasks {:keys [seq-id tasks stop res evt-cb], :or {evt-cb identity}, :as all-args})</code></div><div class="doc"><pre class="plaintext">process task list executed within background agent

The task list as specified as hash map with the following keys:
:seq-id &lt;identifier for the given sequence (all tasks)&gt;
:tasks  &lt;list of call back functions to be executed&gt;
:res    &lt;accumulated result string&gt;

The task function shall return a hash map with these keys:
:stdout standard output text
:stderr standard error text
:success true when successful and next task shall be executed</pre></div></div><div class="public anchor" id="var-exec-termination"><h3>exec-termination</h3><div class="usage"><code>(exec-termination {:keys [seq-id tasks terminate error stop evt-cb], :or {evt-cb identity}, :as all-args})</code></div><div class="doc"><pre class="plaintext">process termination handler executed within background agent

The task function shall return a hash map with these keys:
:stdout standard output text
:stderr standard error text
:success true when successful and next task shall be executed
:opt-term-results hash map with additional info from term handler (sw version)</pre></div></div><div class="public anchor" id="var-gen-task-sequence"><h3>gen-task-sequence</h3><div class="usage"><code>(gen-task-sequence seq-id task-list terminate evt-cb)</code></div><div class="doc"><pre class="plaintext">generate a task sequence structure

seq-id: identifier for given sequence
tasks-list: list of tasks to be executed one by one when no error occured
evt-cb: handler to be invoked about current state</pre></div></div><div class="public anchor" id="var-gen-test-task-list"><h3>gen-test-task-list</h3><div class="usage"><code>(gen-test-task-list &amp; {:keys [enable-failure], :or {enable-failure false}})</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-start-tasks"><h3>start-tasks</h3><div class="usage"><code>(start-tasks task-sequence)</code></div><div class="doc"><pre class="plaintext">starts or continues processing of task sequence
</pre></div></div><div class="public anchor" id="var-stop-tasks"><h3>stop-tasks</h3><div class="usage"><code>(stop-tasks task-sequence)</code></div><div class="doc"><pre class="plaintext">stops processing of task sequence
</pre></div></div></div></body></html>